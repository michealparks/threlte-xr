import{s as H,r as ue,u as me,v as ce,w as ge,H as ye,p as K,a as z,c as P,i as M,G as U,d as k,y as v,z as Me,e as A,I as ke}from"../chunks/scheduler.d099de3d.js";import{S as D,i as L,a as c,t as g,f as x,b as p,d as _,m as d,e as h,g as Y,c as Z}from"../chunks/index.5391bafe.js";import{H as Be,V as G,b as ze,T as S,Q as Pe,S as Se,X as Ce,u as Ie,f as Ve,e as Ge}from"../chunks/xr.3ffe6951.js";import{B as Ae}from"../chunks/button-vr.b6044e14.js";import{R as q,u as Re,C as j,f as ve,I as pe,a as _e,W as Ee,D as Ne}from"../chunks/Instance.3a1da6a2.js";import{C as Te}from"../chunks/controllers.9f769ef3.js";import{e as W,u as de,o as he}from"../chunks/each.f8e9f536.js";import"../chunks/PositionMesh.2245e7f8.js";import{w as We}from"../chunks/index.7b06e9f9.js";const ee=(f,r,s)=>{if(f!==void 0){const n=f;return n.reduce((o,l)=>o|1<<l,0)|n.reduce((o,l)=>o|1<<l+16,0)}return s.reduce((n,e)=>n|1<<e,0)|r.reduce((n,e)=>n|1<<e+16,0)};function He(f){let r;const s=f[4].default,t=ue(s,f,f[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,e){t&&t.m(n,e),r=!0},p(n,[e]){t&&t.p&&(!r||e&8)&&me(t,s,n,n[3],r?ge(s,n[3],e,null):ce(n[3]),null)},i(n){r||(c(t,n),r=!0)},o(n){g(t,n),r=!1},d(n){t&&t.d(n)}}}function De(f,r,s){let{$$slots:t={},$$scope:n}=r,{groups:e=void 0}=r,{filter:o=void 0}=r,{memberships:l=void 0}=r;const u=We(ee(e,o,l));return ye("threlte-rapier-collision-group",u),f.$$set=i=>{"groups"in i&&s(0,e=i.groups),"filter"in i&&s(1,o=i.filter),"memberships"in i&&s(2,l=i.memberships),"$$scope"in i&&s(3,n=i.$$scope)},f.$$.update=()=>{f.$$.dirty&7&&u.set(ee(e,o,l))},[e,o,l,n,t]}class Le extends D{constructor(r){super(),L(this,r,De,He,H,{groups:0,filter:1,memberships:2})}}function Qe(f){let r,s,t,n;return r=new S.CylinderGeometry({props:{args:[R,R,E]}}),t=new S.MeshPhongMaterial({props:{color:"red"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function Xe(f){let r,s;return r=new S.Mesh({props:{slot:"left","rotation.x":Math.PI/2,"position.z":-E/2,$$slots:{default:[Qe]},$$scope:{ctx:f}}}),r.$on("create",f[5]),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&8192&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Fe(f){let r,s,t,n;return r=new S.CylinderGeometry({props:{args:[R,R,E]}}),t=new S.MeshStandardMaterial({props:{roughness:0,color:"red"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function qe(f){let r,s;return r=new S.Mesh({props:{slot:"right","rotation.x":Math.PI/2,"position.z":-E/2,$$slots:{default:[Fe]},$$scope:{ctx:f}}}),r.$on("create",f[4]),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&8192&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Ye(f){let r,s,t,n;return r=new S.CylinderGeometry({props:{args:[R,R,E]}}),t=new S.MeshStandardMaterial({props:{roughness:0,color:"red"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function Ze(f){let r,s;return r=new S.Mesh({props:{slot:"left","rotation.x":Math.PI/2,"position.z":-E/2,$$slots:{default:[Ye]},$$scope:{ctx:f}}}),r.$on("create",f[7]),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&8192&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function je(f){let r,s,t,n;return r=new S.CylinderGeometry({props:{args:[R,R,E]}}),t=new S.MeshPhongMaterial({props:{color:"red"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function Je(f){let r,s;return r=new S.Mesh({props:{slot:"right","rotation.x":Math.PI/2,"position.z":-E/2,$$slots:{default:[je]},$$scope:{ctx:f}}}),r.$on("create",f[6]),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&8192&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Ke(f){let r,s;return r=new j({props:{shape:"capsule",args:[E/2,R]}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p:v,i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Oe(f){let r,s;return r=new j({props:{shape:"capsule",args:[E/2,R]}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p:v,i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Ue(f){let r,s,t,n,e,o,l,u,i,y;r=new Te({props:{$$slots:{right:[qe],left:[Xe]},$$scope:{ctx:f}}}),t=new Be({props:{$$slots:{right:[Je],left:[Ze]},$$scope:{ctx:f}}});function $(m){f[8](m)}let a={type:"kinematicPosition",$$slots:{default:[Ke]},$$scope:{ctx:f}};f[0]!==void 0&&(a.rigidBody=f[0]),e=new q({props:a}),K.push(()=>x(e,"rigidBody",$));function w(m){f[9](m)}let C={type:"kinematicPosition",$$slots:{default:[Oe]},$$scope:{ctx:f}};return f[1]!==void 0&&(C.rigidBody=f[1]),u=new q({props:C}),K.push(()=>x(u,"rigidBody",w)),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment),n=z(),p(e.$$.fragment),l=z(),p(u.$$.fragment)},l(m){_(r.$$.fragment,m),s=P(m),_(t.$$.fragment,m),n=P(m),_(e.$$.fragment,m),l=P(m),_(u.$$.fragment,m)},m(m,b){d(r,m,b),M(m,s,b),d(t,m,b),M(m,n,b),d(e,m,b),M(m,l,b),d(u,m,b),y=!0},p(m,[b]){const I={};b&8196&&(I.$$scope={dirty:b,ctx:m}),r.$set(I);const N={};b&8200&&(N.$$scope={dirty:b,ctx:m}),t.$set(N);const Q={};b&8192&&(Q.$$scope={dirty:b,ctx:m}),!o&&b&1&&(o=!0,Q.rigidBody=m[0],U(()=>o=!1)),e.$set(Q);const B={};b&8192&&(B.$$scope={dirty:b,ctx:m}),!i&&b&2&&(i=!0,B.rigidBody=m[1],U(()=>i=!1)),u.$set(B)},i(m){y||(c(r.$$.fragment,m),c(t.$$.fragment,m),c(e.$$.fragment,m),c(u.$$.fragment,m),y=!0)},o(m){g(r.$$.fragment,m),g(t.$$.fragment,m),g(e.$$.fragment,m),g(u.$$.fragment,m),y=!1},d(m){m&&(k(s),k(n),k(l)),h(r,m),h(t,m),h(e,m),h(u,m)}}}const R=.02,E=1.4;function xe(f,r,s){const{isHandTracking:t}=Re();let n,e;const o={left:void 0,right:void 0},l={left:void 0,right:void 0},u=new G,i=new Pe;ze(()=>{const b=t.current?l.left:o.left,I=t.current?l.right:o.right;b&&(n.setTranslation(b.getWorldPosition(u),!0),n.setRotation(b.getWorldQuaternion(i),!0)),I&&(e.setTranslation(I.getWorldPosition(u),!0),e.setRotation(I.getWorldQuaternion(i),!0))});const y=({ref:b})=>s(2,o.right=b,o),$=({ref:b})=>s(2,o.left=b,o),a=({ref:b})=>s(3,l.right=b,l),w=({ref:b})=>s(3,l.left=b,l);function C(b){n=b,s(0,n)}function m(b){e=b,s(1,e)}return[n,e,o,l,y,$,a,w,C,m]}class et extends D{constructor(r){super(),L(this,r,xe,Ue,H,{})}}const J=(1+1e-10)*100,te=f=>`${~~(f.x*J)},${~~(f.y*J)},${~~(f.z*J)}`,tt=(f,r=Math.PI)=>{const s=Math.cos(r),t=[new G,new G,new G],n=new G,e=new G,o=new G,l=new G,u=f.getAttribute("position"),i=f.getAttribute("normal"),y={};for(let $=0,a=u.count/3;$<a;$+=1){const w=3*$;t.forEach((m,b)=>m.fromBufferAttribute(u,w+b)),n.subVectors(t[2],t[1]),e.subVectors(t[0],t[1]);const C=new G().crossVectors(n,e).normalize();t.forEach(m=>{var I;const b=te(m);y[b]||(y[b]=[]),(I=y[b])==null||I.push(C)})}for(let $=0,a=u.count/3;$<a;$+=1){const w=3*$;t.forEach((C,m)=>C.fromBufferAttribute(u,w+m)),n.subVectors(t[2],t[1]),e.subVectors(t[0],t[1]),o.crossVectors(n,e).normalize(),t.forEach((C,m)=>{var I;const b=te(C);l.set(0,0,0),(I=y[b])==null||I.forEach(N=>{o.dot(N)>s&&l.add(N)}),l.normalize(),i.setXYZ(w+m,l.x,l.y,l.z)})}return f.setAttribute("normal",i),f},rt=f=>({ref:f&131072}),re=f=>({ref:f[17]});function nt(f){let r;const s=f[12].default,t=ue(s,f,f[15],re);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,e){t&&t.m(n,e),r=!0},p(n,e){t&&t.p&&(!r||e&163840)&&me(t,s,n,n[15],r?ge(s,n[15],e,rt):ce(n[15]),re)},i(n){r||(c(t,n),r=!0)},o(n){g(t,n),r=!1},d(n){t&&t.d(n)}}}function st(f){let r,s,t={args:[f[2],f[1]],$$slots:{default:[nt,({ref:n})=>({17:n}),({ref:n})=>n?131072:0]},$$scope:{ctx:f}};return r=new S.ExtrudeGeometry({props:t}),f[13](r),r.$on("create",f[14]),{c(){p(r.$$.fragment)},l(n){_(r.$$.fragment,n)},m(n,e){d(r,n,e),s=!0},p(n,[e]){const o={};e&6&&(o.args=[n[2],n[1]]),e&163840&&(o.$$scope={dirty:e,ctx:n}),r.$set(o)},i(n){s||(c(r.$$.fragment,n),s=!0)},o(n){g(r.$$.fragment,n),s=!1},d(n){f[13](null),h(r,n)}}}const V=1e-5;function ot(f,r,s){let t,n,e,o,l,u,{$$slots:i={},$$scope:y}=r;const $=ve();Me(f,$,B=>s(3,u=B));let{args:a=[]}=r,{radius:w=.05}=r,{smoothness:C=4}=r,{creaseAngle:m=.4}=r,{steps:b=1}=r;const I=(B,O,we)=>{const X=new Se,F=we-V;return X.absarc(V,V,V,-Math.PI/2,-Math.PI,!0),X.absarc(V,O-F*2,V,Math.PI,Math.PI/2,!0),X.absarc(B-F*2,O-F*2,V,Math.PI/2,0,!0),X.absarc(B-F*2,V,V,0,-Math.PI/2,!0),X};function N(B){K[B?"unshift":"push"](()=>{u=B,$.set(u)})}const Q=({ref:B})=>{B.center(),tt(B,m)};return f.$$set=B=>{"args"in B&&s(5,a=B.args),"radius"in B&&s(6,w=B.radius),"smoothness"in B&&s(7,C=B.smoothness),"creaseAngle"in B&&s(0,m=B.creaseAngle),"steps"in B&&s(8,b=B.steps),"$$scope"in B&&s(15,y=B.$$scope)},f.$$.update=()=>{f.$$.dirty&32&&s(11,t=a[0]??1),f.$$.dirty&32&&s(10,n=a[1]??1),f.$$.dirty&32&&s(9,e=a[2]??1),f.$$.dirty&3136&&s(2,o=I(t,n,w)),f.$$.dirty&960&&s(1,l={depth:e-w*2,bevelEnabled:!0,bevelSegments:C*2,steps:b,bevelSize:w-V,bevelThickness:w,curveSegments:C})},[m,l,o,u,$,a,w,C,b,e,n,t,i,N,Q,y]}class ft extends D{constructor(r){super(),L(this,r,ot,st,H,{args:5,radius:6,smoothness:7,creaseAngle:0,steps:8})}}function ne(f,r,s){const t=f.slice();return t[10]=r[s].position,t[11]=r[s].force,t[13]=s,t}function se(f,r,s){const t=f.slice();return t[14]=r[s],t}function oe(f,r,s){const t=f.slice();return t[10]=r[s].position,t[17]=r[s].color,t[13]=s,t}function fe(f){let r,s;return r=new _e({props:{color:f[17]}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p:v,i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function lt(f){let r,s,t,n;r=new j({props:{shape:"cuboid",mass:.5,args:[T/2,T/2,T/2]}});let e=f[1][f[13]]&&fe(f);return{c(){p(r.$$.fragment),s=z(),e&&e.c(),t=A()},l(o){_(r.$$.fragment,o),s=P(o),e&&e.l(o),t=A()},m(o,l){d(r,o,l),M(o,s,l),e&&e.m(o,l),M(o,t,l),n=!0},p(o,l){o[1][o[13]]?e?(e.p(o,l),l&2&&c(e,1)):(e=fe(o),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(Y(),g(e,1,1,()=>{e=null}),Z())},i(o){n||(c(r.$$.fragment,o),c(e),n=!0)},o(o){g(r.$$.fragment,o),g(e),n=!1},d(o){o&&(k(s),k(t)),h(r,o),e&&e.d(o)}}}function $t(f){let r,s,t;function n(...e){return f[6](f[13],...e)}return r=new q({props:{enabled:f[1][f[13]]??!0,linearVelocity:[0,0,wt],$$slots:{default:[lt]},$$scope:{ctx:f}}}),r.$on("contact",n),{c(){p(r.$$.fragment),s=z()},l(e){_(r.$$.fragment,e),s=P(e)},m(e,o){d(r,e,o),M(e,s,o),t=!0},p(e,o){f=e;const l={};o&2&&(l.enabled=f[1][f[13]]??!0),o&524290&&(l.$$scope={dirty:o,ctx:f}),r.$set(l)},i(e){t||(c(r.$$.fragment,e),t=!0)},o(e){g(r.$$.fragment,e),t=!1},d(e){e&&k(s),h(r,e)}}}function le(f,r){let s,t,n;return t=new S.Group({props:{"position.x":r[10].x,"position.y":r[10].y+ht,"position.z":r[10].z-bt,$$slots:{default:[$t]},$$scope:{ctx:r}}}),{key:f,first:null,c(){s=A(),p(t.$$.fragment),this.h()},l(e){s=A(),_(t.$$.fragment,e),this.h()},h(){this.first=s},m(e,o){M(e,s,o),d(t,e,o),n=!0},p(e,o){r=e;const l={};o&524290&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(t,e)}}}function at(f){let r,s,t,n,e=[],o=new Map,l,u;r=new ft({props:{radius:dt,args:[T,T,T]}}),t=new S.MeshStandardMaterial({props:{roughness:0,metalness:.2}});let i=W(f[2]);const y=$=>$[13];for(let $=0;$<i.length;$+=1){let a=oe(f,i,$),w=y(a);o.set(w,e[$]=le(w,a))}return{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment),n=z();for(let $=0;$<e.length;$+=1)e[$].c();l=A()},l($){_(r.$$.fragment,$),s=P($),_(t.$$.fragment,$),n=P($);for(let a=0;a<e.length;a+=1)e[a].l($);l=A()},m($,a){d(r,$,a),M($,s,a),d(t,$,a),M($,n,a);for(let w=0;w<e.length;w+=1)e[w]&&e[w].m($,a);M($,l,a),u=!0},p($,a){a&22&&(i=W($[2]),Y(),e=de(e,a,y,1,$,i,o,l.parentNode,he,le,l,oe),Z())},i($){if(!u){c(r.$$.fragment,$),c(t.$$.fragment,$);for(let a=0;a<i.length;a+=1)c(e[a]);u=!0}},o($){g(r.$$.fragment,$),g(t.$$.fragment,$);for(let a=0;a<e.length;a+=1)g(e[a]);u=!1},d($){$&&(k(s),k(n),k(l)),h(r,$),h(t,$);for(let a=0;a<e.length;a+=1)e[a].d($)}}}function it(f){let r,s,t,n;return r=new j({props:{shape:"cuboid",mass:.5,args:[f[3]/2,f[3]/2,f[3]/2]}}),t=new _e({props:{color:"#ffffff"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function $e(f){let r,s;return r=new q({props:{linearVelocity:f[5](f[11]),$$slots:{default:[it]},$$scope:{ctx:f}}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&1&&(e.linearVelocity=t[5](t[11])),n&524288&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function ut(f){let r,s,t=W({length:20}),n=[];for(let o=0;o<t.length;o+=1)n[o]=$e(se(f,t,o));const e=o=>g(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();r=z()},l(o){for(let l=0;l<n.length;l+=1)n[l].l(o);r=P(o)},m(o,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(o,l);M(o,r,l),s=!0},p(o,l){if(l&41){t=W({length:20});let u;for(u=0;u<t.length;u+=1){const i=se(o,t,u);n[u]?(n[u].p(i,l),c(n[u],1)):(n[u]=$e(i),n[u].c(),c(n[u],1),n[u].m(r.parentNode,r))}for(Y(),u=t.length;u<n.length;u+=1)e(u);Z()}},i(o){if(!s){for(let l=0;l<t.length;l+=1)c(n[l]);s=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)g(n[l]);s=!1},d(o){o&&k(r),ke(n,o)}}}function ae(f,r){let s,t,n;return t=new S.Group({props:{"position.x":r[10].x,"position.y":r[10].y,"position.z":r[10].z,$$slots:{default:[ut]},$$scope:{ctx:r}}}),{key:f,first:null,c(){s=A(),p(t.$$.fragment),this.h()},l(e){s=A(),_(t.$$.fragment,e),this.h()},h(){this.first=s},m(e,o){M(e,s,o),d(t,e,o),n=!0},p(e,o){r=e;const l={};o&1&&(l["position.x"]=r[10].x),o&1&&(l["position.y"]=r[10].y),o&1&&(l["position.z"]=r[10].z),o&524289&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(t,e)}}}function mt(f){let r,s,t,n,e=[],o=new Map,l,u;r=new S.BoxGeometry({props:{args:[f[3],f[3],f[3]]}}),t=new S.MeshPhongMaterial({});let i=W(f[0]);const y=$=>$[13];for(let $=0;$<i.length;$+=1){let a=ne(f,i,$),w=y(a);o.set(w,e[$]=ae(w,a))}return{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment),n=z();for(let $=0;$<e.length;$+=1)e[$].c();l=A()},l($){_(r.$$.fragment,$),s=P($),_(t.$$.fragment,$),n=P($);for(let a=0;a<e.length;a+=1)e[a].l($);l=A()},m($,a){d(r,$,a),M($,s,a),d(t,$,a),M($,n,a);for(let w=0;w<e.length;w+=1)e[w]&&e[w].m($,a);M($,l,a),u=!0},p($,a){a&41&&(i=W($[0]),Y(),e=de(e,a,y,1,$,i,o,l.parentNode,he,ae,l,ne),Z())},i($){if(!u){c(r.$$.fragment,$),c(t.$$.fragment,$);for(let a=0;a<i.length;a+=1)c(e[a]);u=!0}},o($){g(r.$$.fragment,$),g(t.$$.fragment,$);for(let a=0;a<e.length;a+=1)g(e[a]);u=!1},d($){$&&(k(s),k(n),k(l)),h(r,$),h(t,$);for(let a=0;a<e.length;a+=1)e[a].d($)}}}function ct(f){let r,s;return r=new pe({props:{limit:pt,$$slots:{default:[mt]},$$scope:{ctx:f}}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&524289&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function gt(f){let r,s,t,n;return r=new pe({props:{limit:be,$$slots:{default:[at]},$$scope:{ctx:f}}}),t=new Le({props:{memberships:[],filter:[],$$slots:{default:[ct]},$$scope:{ctx:f}}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p(e,[o]){const l={};o&524290&&(l.$$scope={dirty:o,ctx:e}),r.$set(l);const u={};o&524289&&(u.$$scope={dirty:o,ctx:e}),t.$set(u)},i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}let be=100,pt=1e3;const ie=.4,_t=8,dt=.15,T=.6,ht=1.5,bt=50,wt=12;function yt(f,r,s){const t=["#ff5252","#ff4081","#d500f9","#3d5afe","#40c4ff","#18ffff","#f9a825","#ffd740","#bf360c"],n=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,0],[0,1],[1,-1],[1,0],[1,1]];let e=[],o=[],l=[];for(let a=0;a<be;a+=1){const[w,C]=n[Math.trunc(Math.random()*n.length)];l.push({position:new G(w-ie,C-ie,-a*_t),color:t[a%t.length]}),o.push(!0)}const u=T/4,i=(a,w)=>{};return[e,o,l,u,i,a=>{const w=Math.random()-.5,C=Math.random()-.5,m=Math.random()-.5;return[a.x*w*10,a.y*C*10,a.z*m*10]},(a,w)=>i()]}class Mt extends D{constructor(r){super(),L(this,r,yt,gt,H,{})}}function kt(f){let r,s,t,n;return r=new et({}),t=new Mt({}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function Bt(f){let r,s,t,n;return r=new S.CylinderGeometry({props:{args:[2,2,100]}}),t=new S.MeshStandardMaterial({props:{color:"white"}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p:v,i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}function zt(f){let r,s,t,n,e,o,l,u;return r=new Ce({props:{$$slots:{default:[kt]},$$scope:{ctx:f}}}),t=new S.AmbientLight({}),e=new S.DirectionalLight({}),l=new S.Mesh({props:{"position.y":-50,$$slots:{default:[Bt]},$$scope:{ctx:f}}}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment),n=z(),p(e.$$.fragment),o=z(),p(l.$$.fragment)},l(i){_(r.$$.fragment,i),s=P(i),_(t.$$.fragment,i),n=P(i),_(e.$$.fragment,i),o=P(i),_(l.$$.fragment,i)},m(i,y){d(r,i,y),M(i,s,y),d(t,i,y),M(i,n,y),d(e,i,y),M(i,o,y),d(l,i,y),u=!0},p(i,[y]){const $={};y&2&&($.$$scope={dirty:y,ctx:i}),r.$set($);const a={};y&2&&(a.$$scope={dirty:y,ctx:i}),l.$set(a)},i(i){u||(c(r.$$.fragment,i),c(t.$$.fragment,i),c(e.$$.fragment,i),c(l.$$.fragment,i),u=!0)},o(i){g(r.$$.fragment,i),g(t.$$.fragment,i),g(e.$$.fragment,i),g(l.$$.fragment,i),u=!1},d(i){i&&(k(s),k(n),k(o)),h(r,i),h(t,i),h(e,i),h(l,i)}}}function Pt(f){const{scene:r}=Ie();return r.background=new Ve("black"),[]}class St extends D{constructor(r){super(),L(this,r,Pt,zt,H,{})}}function Ct(f){let r,s;return r=new Ne({}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function It(f){let r=localStorage.getItem("debug"),s,t,n,e=r&&Ct();return t=new St({}),{c(){e&&e.c(),s=z(),p(t.$$.fragment)},l(o){e&&e.l(o),s=P(o),_(t.$$.fragment,o)},m(o,l){e&&e.m(o,l),M(o,s,l),d(t,o,l),n=!0},p:v,i(o){n||(c(e),c(t.$$.fragment,o),n=!0)},o(o){g(e),g(t.$$.fragment,o),n=!1},d(o){o&&k(s),e&&e.d(o),h(t,o)}}}function Vt(f){let r,s;return r=new Ee({props:{gravity:[0,0,0],$$slots:{default:[It]},$$scope:{ctx:f}}}),{c(){p(r.$$.fragment)},l(t){_(r.$$.fragment,t)},m(t,n){d(r,t,n),s=!0},p(t,n){const e={};n&1&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){s||(c(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){h(r,t)}}}function Gt(f){let r,s,t,n;return r=new Ge({props:{$$slots:{default:[Vt]},$$scope:{ctx:f}}}),t=new Ae({}),{c(){p(r.$$.fragment),s=z(),p(t.$$.fragment)},l(e){_(r.$$.fragment,e),s=P(e),_(t.$$.fragment,e)},m(e,o){d(r,e,o),M(e,s,o),d(t,e,o),n=!0},p(e,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:e}),r.$set(l)},i(e){n||(c(r.$$.fragment,e),c(t.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),g(t.$$.fragment,e),n=!1},d(e){e&&k(s),h(r,e),h(t,e)}}}class Lt extends D{constructor(r){super(),L(this,r,null,Gt,H,{})}}export{Lt as component};
